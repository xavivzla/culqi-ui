<template>
  <div class="md-timeline-item">
    <div class="md-timeline-item-dot">
      <span class="md-timeline-item-dot__content">
        <span class="md-timeline-item-dot__icon" />
      </span>
      <span class="md-timeline-item-dot__linear" />
    </div>
    <div class="md-timeline-item-wrapper">
      <div >
        <div class="md-timeline-date" @click="_handleClickToggle">
          <md-icon>
            <svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M6.99998 12.666C7.13183 12.666 7.26073 12.6269 7.37036 12.5537C7.47999 12.4804 7.56544 12.3763 7.6159 12.2545C7.66636 12.1327 7.67956 11.9986 7.65384 11.8693C7.62811 11.74 7.56462 11.6212 7.47138 11.5279C7.37815 11.4347 7.25936 11.3712 7.13004 11.3455C7.00072 11.3198 6.86667 11.333 6.74486 11.3834C6.62304 11.4339 6.51892 11.5193 6.44567 11.629C6.37241 11.7386 6.33331 11.8675 6.33331 11.9993C6.33331 12.1762 6.40355 12.3457 6.52858 12.4708C6.6536 12.5958 6.82317 12.666 6.99998 12.666ZM10.3333 12.666C10.4652 12.666 10.5941 12.6269 10.7037 12.5537C10.8133 12.4804 10.8988 12.3763 10.9492 12.2545C10.9997 12.1327 11.0129 11.9986 10.9872 11.8693C10.9614 11.74 10.898 11.6212 10.8047 11.5279C10.7115 11.4347 10.5927 11.3712 10.4634 11.3455C10.3341 11.3198 10.2 11.333 10.0782 11.3834C9.95637 11.4339 9.85225 11.5193 9.779 11.629C9.70575 11.7386 9.66665 11.8675 9.66665 11.9993C9.66665 12.1762 9.73688 12.3457 9.86191 12.4708C9.98693 12.5958 10.1565 12.666 10.3333 12.666ZM10.3333 9.99935C10.4652 9.99935 10.5941 9.96025 10.7037 9.88699C10.8133 9.81374 10.8988 9.70962 10.9492 9.5878C10.9997 9.46599 11.0129 9.33194 10.9872 9.20262C10.9614 9.0733 10.898 8.95451 10.8047 8.86128C10.7115 8.76804 10.5927 8.70455 10.4634 8.67882C10.3341 8.6531 10.2 8.6663 10.0782 8.71676C9.95637 8.76722 9.85225 8.85267 9.779 8.9623C9.70575 9.07193 9.66665 9.20083 9.66665 9.33268C9.66665 9.50949 9.73688 9.67906 9.86191 9.80409C9.98693 9.92911 10.1565 9.99935 10.3333 9.99935ZM6.99998 9.99935C7.13183 9.99935 7.26073 9.96025 7.37036 9.88699C7.47999 9.81374 7.56544 9.70962 7.6159 9.5878C7.66636 9.46599 7.67956 9.33194 7.65384 9.20262C7.62811 9.0733 7.56462 8.95451 7.47138 8.86128C7.37815 8.76804 7.25936 8.70455 7.13004 8.67882C7.00072 8.6531 6.86667 8.6663 6.74486 8.71676C6.62304 8.76722 6.51892 8.85267 6.44567 8.9623C6.37241 9.07193 6.33331 9.20083 6.33331 9.33268C6.33331 9.50949 6.40355 9.67906 6.52858 9.80409C6.6536 9.92911 6.82317 9.99935 6.99998 9.99935ZM11.6666 1.99935H11V1.33268C11 1.15587 10.9297 0.986302 10.8047 0.861278C10.6797 0.736253 10.5101 0.666016 10.3333 0.666016C10.1565 0.666016 9.98693 0.736253 9.86191 0.861278C9.73688 0.986302 9.66665 1.15587 9.66665 1.33268V1.99935H4.33331V1.33268C4.33331 1.15587 4.26308 0.986302 4.13805 0.861278C4.01303 0.736253 3.84346 0.666016 3.66665 0.666016C3.48984 0.666016 3.32027 0.736253 3.19524 0.861278C3.07022 0.986302 2.99998 1.15587 2.99998 1.33268V1.99935H2.33331C1.80288 1.99935 1.29417 2.21006 0.9191 2.58514C0.544027 2.96021 0.333313 3.46892 0.333313 3.99935V13.3327C0.333313 13.8631 0.544027 14.3718 0.9191 14.7469C1.29417 15.122 1.80288 15.3327 2.33331 15.3327H11.6666C12.1971 15.3327 12.7058 15.122 13.0809 14.7469C13.4559 14.3718 13.6666 13.8631 13.6666 13.3327V3.99935C13.6666 3.46892 13.4559 2.96021 13.0809 2.58514C12.7058 2.21006 12.1971 1.99935 11.6666 1.99935ZM12.3333 13.3327C12.3333 13.5095 12.2631 13.6791 12.1381 13.8041C12.013 13.9291 11.8435 13.9993 11.6666 13.9993H2.33331C2.1565 13.9993 1.98693 13.9291 1.86191 13.8041C1.73688 13.6791 1.66665 13.5095 1.66665 13.3327V7.33268H12.3333V13.3327ZM12.3333 5.99935H1.66665V3.99935C1.66665 3.82254 1.73688 3.65297 1.86191 3.52794C1.98693 3.40292 2.1565 3.33268 2.33331 3.33268H2.99998V3.99935C2.99998 4.17616 3.07022 4.34573 3.19524 4.47075C3.32027 4.59578 3.48984 4.66602 3.66665 4.66602C3.84346 4.66602 4.01303 4.59578 4.13805 4.47075C4.26308 4.34573 4.33331 4.17616 4.33331 3.99935V3.33268H9.66665V3.99935C9.66665 4.17616 9.73688 4.34573 9.86191 4.47075C9.98693 4.59578 10.1565 4.66602 10.3333 4.66602C10.5101 4.66602 10.6797 4.59578 10.8047 4.47075C10.9297 4.34573 11 4.17616 11 3.99935V3.33268H11.6666C11.8435 3.33268 12.013 3.40292 12.1381 3.52794C12.2631 3.65297 12.3333 3.82254 12.3333 3.99935V5.99935ZM3.66665 9.99935C3.7985 9.99935 3.92739 9.96025 4.03703 9.88699C4.14666 9.81374 4.23211 9.70962 4.28257 9.5878C4.33302 9.46599 4.34623 9.33194 4.3205 9.20262C4.29478 9.0733 4.23129 8.95451 4.13805 8.86128C4.04482 8.76804 3.92603 8.70455 3.79671 8.67882C3.66739 8.6531 3.53334 8.6663 3.41152 8.71676C3.28971 8.76722 3.18559 8.85267 3.11233 8.9623C3.03908 9.07193 2.99998 9.20083 2.99998 9.33268C2.99998 9.50949 3.07022 9.67906 3.19524 9.80409C3.32027 9.92911 3.48984 9.99935 3.66665 9.99935ZM3.66665 12.666C3.7985 12.666 3.92739 12.6269 4.03703 12.5537C4.14666 12.4804 4.23211 12.3763 4.28257 12.2545C4.33302 12.1327 4.34623 11.9986 4.3205 11.8693C4.29478 11.74 4.23129 11.6212 4.13805 11.5279C4.04482 11.4347 3.92603 11.3712 3.79671 11.3455C3.66739 11.3198 3.53334 11.333 3.41152 11.3834C3.28971 11.4339 3.18559 11.5193 3.11233 11.629C3.03908 11.7386 2.99998 11.8675 2.99998 11.9993C2.99998 12.1762 3.07022 12.3457 3.19524 12.4708C3.32027 12.5958 3.48984 12.666 3.66665 12.666Z" fill="#677487"/>
            </svg>
          </md-icon>
          <span>{{date}}</span>
        </div>
        <slot/>
      </div>

    </div>
  </div>
</template>

<script>
export default {
  name: "MdTimelineItem",
  props: {
    date: {
      type: String,
      required: true
    }
  },
  data: () => ({
    height: "auto",
    timelineData: {
      open: false
    }
  }),
  provide () {
    return {
      timelineData: this.timelineData
    }
  },
  methods: {
    _handleClickToggle () {
      this.timelineData.open = !this.timelineData.open
    }
  }
};
</script>

<style lang="scss">
  .md-timeline-item{
    display: flex;
    align-items: flex-start;
    position: relative;
    padding-left: 30px;
    padding-bottom: 15px;
  }
  .md-timeline-item-dot{
    position: absolute;
    height: 100%;
    left: 0px;
    display: flex;
    justify-content: center;
    margin-top: 3px;
    &__content{
      width: 16px;
      height: 16px;
      border-radius: 50%;
      border: 1px solid #D4D8DD;
      display: flex;
      justify-content: center;
      display: flex;
      align-items: center;
      z-index: 2;
    }
    &__icon{
      width: 6px;
      height: 6px;
      background: #677487;
      border-radius: 1px;
      transform: rotate(45deg);
    }
    &__linear{
      position: absolute;
      height: 100%;
      width: 1px;
      background: #E2E5E8;
    }
  }
  .md-timeline-item-wrapper{
    flex: 1;
  }

  .md-timeline-date{
    display: flex;
    align-items: center;
    justify-content: flex-start;
    cursor: pointer;
    span{
      flex: 1;
      margin-left: 10px;
      font-family: Archivo;
      font-style: normal;
      font-weight: normal;
      font-size: 14.22px;
      display: flex;
      align-items: center;
      color: #677487;
    }
  }
</style>